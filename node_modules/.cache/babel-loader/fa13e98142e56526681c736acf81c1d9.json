{"ast":null,"code":"import _objectSpread from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ravi/internship/facebook_ui/src/components/FacebookLoginButton.js\";\nimport React, { Component } from 'react';\n\nvar FacebookLoginButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FacebookLoginButton, _Component);\n\n  function FacebookLoginButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FacebookLoginButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FacebookLoginButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.initializeFacebookLogin = function () {\n      _this.FB = window.FB;\n\n      _this.checkLoginStatus();\n    };\n\n    _this.checkLoginStatus = function () {\n      _this.FB.getLoginStatus(_this.facebookLoginHandler);\n    };\n\n    _this.facebookLogin = function () {\n      if (!_this.FB) return;\n\n      _this.FB.getLoginStatus(function (response) {\n        if (response.status === 'connected') {\n          _this.facebookLoginHandler(response);\n        } else {\n          _this.FB.login(_this.facebookLoginHandler, {\n            scope: 'public_profile'\n          });\n        }\n      });\n    };\n\n    _this.facebookLoginHandler = function (response) {\n      if (response.status === 'connected') {\n        _this.FB.api('/me', function (userData) {\n          var result = _objectSpread({}, response, {\n            user: userData\n          });\n\n          _this.props.onLogin(true, result);\n        });\n      } else {\n        _this.props.onLogin(false);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(FacebookLoginButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('FBObjectReady', this.initializeFacebookLogin);\n      console.log(window.FB);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('FBObjectReady', this.initializeFacebookLogin);\n    }\n    /**\n     * Init FB object and check Facebook Login status\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return React.createElement(\"div\", {\n        onClick: this.facebookLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, children);\n    }\n  }]);\n\n  return FacebookLoginButton;\n}(Component);\n\nexport { FacebookLoginButton as default };","map":{"version":3,"sources":["/Users/ravi/internship/facebook_ui/src/components/FacebookLoginButton.js"],"names":["React","Component","FacebookLoginButton","initializeFacebookLogin","FB","window","checkLoginStatus","getLoginStatus","facebookLoginHandler","facebookLogin","response","status","login","scope","api","userData","result","user","props","onLogin","document","addEventListener","console","log","removeEventListener","children"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEqBC,mB;;;;;;;;;;;;;;;;;;UAanBC,uB,GAA0B,YAAM;AAC9B,YAAKC,EAAL,GAAUC,MAAM,CAACD,EAAjB;;AACA,YAAKE,gBAAL;AACD,K;;UAKDA,gB,GAAmB,YAAM;AACvB,YAAKF,EAAL,CAAQG,cAAR,CAAuB,MAAKC,oBAA5B;AACD,K;;UAKDC,a,GAAgB,YAAM;AACpB,UAAI,CAAC,MAAKL,EAAV,EAAc;;AAEd,YAAKA,EAAL,CAAQG,cAAR,CAAuB,UAAAG,QAAQ,EAAI;AACjC,YAAIA,QAAQ,CAACC,MAAT,KAAoB,WAAxB,EAAqC;AACnC,gBAAKH,oBAAL,CAA0BE,QAA1B;AACD,SAFD,MAEO;AACL,gBAAKN,EAAL,CAAQQ,KAAR,CAAc,MAAKJ,oBAAnB,EAAyC;AAACK,YAAAA,KAAK,EAAE;AAAR,WAAzC;AACD;AACF,OAND;AAOD,K;;UAKDL,oB,GAAuB,UAAAE,QAAQ,EAAI;AACjC,UAAIA,QAAQ,CAACC,MAAT,KAAoB,WAAxB,EAAqC;AACnC,cAAKP,EAAL,CAAQU,GAAR,CAAY,KAAZ,EAAmB,UAAAC,QAAQ,EAAI;AAC7B,cAAIC,MAAM,qBACLN,QADK;AAERO,YAAAA,IAAI,EAAEF;AAFE,YAAV;;AAIA,gBAAKG,KAAL,CAAWC,OAAX,CAAmB,IAAnB,EAAyBH,MAAzB;AACD,SAND;AAOD,OARD,MAQO;AACL,cAAKE,KAAL,CAAWC,OAAX,CAAmB,KAAnB;AACD;AACF,K;;;;;;;wCAtDmB;AAClBC,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,eAA1B,EAA2C,KAAKlB,uBAAhD;AACAmB,MAAAA,OAAO,CAACC,GAAR,CAAYlB,MAAM,CAACD,EAAnB;AACD;;;2CAEsB;AACrBgB,MAAAA,QAAQ,CAACI,mBAAT,CAA6B,eAA7B,EAA8C,KAAKrB,uBAAnD;AACD;AAED;;;;;;6BA+CS;AAAA,UACFsB,QADE,GACU,KAAKP,KADf,CACFO,QADE;AAEP,aACE;AAAK,QAAA,OAAO,EAAE,KAAKhB,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGgB,QADH,CADF;AAKD;;;;EAhE8CxB,S;;SAA5BC,mB","sourcesContent":["import React, { Component } from 'react'\n\nexport default class FacebookLoginButton extends Component {\n  componentDidMount() {\n    document.addEventListener('FBObjectReady', this.initializeFacebookLogin);\n    console.log(window.FB)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('FBObjectReady', this.initializeFacebookLogin);\n  }\n\n  /**\n   * Init FB object and check Facebook Login status\n   */\n  initializeFacebookLogin = () => {\n    this.FB = window.FB;\n    this.checkLoginStatus();\n  }\n\n  /**\n   * Check login status\n   */\n  checkLoginStatus = () => {\n    this.FB.getLoginStatus(this.facebookLoginHandler);\n  }\n\n  /**\n   * Check login status and call login api is user is not logged in\n   */\n  facebookLogin = () => {\n    if (!this.FB) return;\n\n    this.FB.getLoginStatus(response => {\n      if (response.status === 'connected') {\n        this.facebookLoginHandler(response);\n      } else {\n        this.FB.login(this.facebookLoginHandler, {scope: 'public_profile'});\n      }\n    }, );\n  }\n\n  /**\n   * Handle login response\n   */\n  facebookLoginHandler = response => {\n    if (response.status === 'connected') {\n      this.FB.api('/me', userData => {\n        let result = {\n          ...response,\n          user: userData\n        };\n        this.props.onLogin(true, result);\n      });\n    } else {\n      this.props.onLogin(false);\n    }\n  }\n\n  render() {\n    let {children} = this.props;\n    return (\n      <div onClick={this.facebookLogin}>\n        {children}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}