{"ast":null,"code":"import _objectSpread from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ravi/internship/facebook_ui/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ravi/internship/facebook_ui/src/components/FacebookLoginButton.js\";\nimport React, { Component } from 'react';\n\nvar FacebookLoginButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FacebookLoginButton, _Component);\n\n  function FacebookLoginButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FacebookLoginButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FacebookLoginButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.initializeFacebookLogin = function () {\n      _this.FB = window.FB;\n      console.log(\"I am inside initialize facebookLogin\");\n\n      _this.checkLoginStatus();\n    };\n\n    _this.checkLoginStatus = function () {\n      _this.FB.getLoginStatus(_this.facebookLoginHandler);\n\n      console.log(\"I am inside checkloginstatus\");\n    };\n\n    _this.facebookLogin = function () {\n      if (!_this.FB) return;\n\n      _this.FB.getLoginStatus(function (response) {\n        if (response.status === 'connected') {\n          _this.facebookLoginHandler(response);\n        } else {\n          _this.FB.login(_this.facebookLoginHandler, {\n            scope: 'public_profile'\n          });\n        }\n      });\n    };\n\n    _this.facebookLoginHandler = function (response) {\n      if (response.status === 'connected') {\n        _this.FB.api('/me', function (userData) {\n          var result = _objectSpread({}, response, {\n            user: userData\n          });\n\n          _this.props.onLogin(true, result);\n        });\n      } else {\n        _this.props.onLogin(false);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(FacebookLoginButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('FBObjectReady', this.initializeFacebookLogin);\n      console.log(\"I am inside ComponentDidMount\");\n    }\n  }, {\n    key: \"componentWillUnMount\",\n    value: function componentWillUnMount() {\n      document.removeEventListener('FBObjectReady', this.initializeFacebookLogin);\n      console.log(\"I am inside ComponentWillUnMount\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return React.createElement(\"div\", {\n        onClick: this.facebookLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, children);\n    }\n  }]);\n\n  return FacebookLoginButton;\n}(Component);\n\nexport { FacebookLoginButton as default };","map":{"version":3,"sources":["/Users/ravi/internship/facebook_ui/src/components/FacebookLoginButton.js"],"names":["React","Component","FacebookLoginButton","initializeFacebookLogin","FB","window","console","log","checkLoginStatus","getLoginStatus","facebookLoginHandler","facebookLogin","response","status","login","scope","api","userData","result","user","props","onLogin","document","addEventListener","removeEventListener","children"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEqBC,mB;;;;;;;;;;;;;;;;;;UAYnBC,uB,GAA0B,YAAM;AAC9B,YAAKC,EAAL,GAAUC,MAAM,CAACD,EAAjB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;;AACA,YAAKC,gBAAL;AACD,K;;UAEDA,gB,GAAkB,YAAI;AACpB,YAAKJ,EAAL,CAAQK,cAAR,CAAuB,MAAKC,oBAA5B;;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACD,K;;UAEDI,a,GAAgB,YAAM;AAClB,UAAG,CAAC,MAAKP,EAAT,EAAa;;AACX,YAAKA,EAAL,CAAQK,cAAR,CAAuB,UAAAG,QAAQ,EAAI;AACjC,YAAGA,QAAQ,CAACC,MAAT,KAAoB,WAAvB,EAAoC;AAClC,gBAAKH,oBAAL,CAA0BE,QAA1B;AACD,SAFD,MAEO;AACL,gBAAKR,EAAL,CAAQU,KAAR,CAAc,MAAKJ,oBAAnB,EAAwC;AAACK,YAAAA,KAAK,EAAE;AAAR,WAAxC;AACD;AACF,OAND;AAOL,K;;UAEDL,oB,GAAuB,UAAAE,QAAQ,EAAI;AACjC,UAAIA,QAAQ,CAACC,MAAT,KAAoB,WAAxB,EAAqC;AACnC,cAAKT,EAAL,CAAQY,GAAR,CAAY,KAAZ,EAAmB,UAAAC,QAAQ,EAAI;AAC7B,cAAIC,MAAM,qBACLN,QADK;AAERO,YAAAA,IAAI,EAAEF;AAFE,YAAV;;AAIA,gBAAKG,KAAL,CAAWC,OAAX,CAAmB,IAAnB,EAAyBH,MAAzB;AACD,SAND;AAOD,OARD,MAQO;AACL,cAAKE,KAAL,CAAWC,OAAX,CAAmB,KAAnB;AACD;AACF,K;;;;;;;wCA5CmB;AAClBC,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,eAA1B,EAA2C,KAAKpB,uBAAhD;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACD;;;2CAEsB;AACrBe,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,eAA7B,EAA8C,KAAKrB,uBAAnD;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD;;;6BAqCQ;AAAA,UACFkB,QADE,GACU,KAAKL,KADf,CACFK,QADE;AAEP,aACE;AAAK,QAAA,OAAO,EAAE,KAAKd,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKc,QADL,CADF;AAKD;;;;EAtD8CxB,S;;SAA5BC,mB","sourcesContent":["import React, { Component } from 'react'\n\nexport default class FacebookLoginButton extends Component {\n  \n  componentDidMount() {\n    document.addEventListener('FBObjectReady', this.initializeFacebookLogin);\n    console.log(\"I am inside ComponentDidMount\");\n  }\n\n  componentWillUnMount() {\n    document.removeEventListener('FBObjectReady', this.initializeFacebookLogin);\n    console.log(\"I am inside ComponentWillUnMount\");\n  }\n\n  initializeFacebookLogin = () => {\n    this.FB = window.FB\n    console.log(\"I am inside initialize facebookLogin\")\n    this.checkLoginStatus();\n  }\n\n  checkLoginStatus =()=>{\n    this.FB.getLoginStatus(this.facebookLoginHandler);\n    console.log(\"I am inside checkloginstatus\")\n  }\n\n  facebookLogin = () => {\n      if(!this.FB) return;\n        this.FB.getLoginStatus(response => {\n          if(response.status === 'connected') {\n            this.facebookLoginHandler(response);\n          } else {\n            this.FB.login(this.facebookLoginHandler,{scope: 'public_profile'});\n          }\n        },);\n  }\n\n  facebookLoginHandler = response => {\n    if (response.status === 'connected') {\n      this.FB.api('/me', userData => {\n        let result = {\n          ...response,\n          user: userData\n        };\n        this.props.onLogin(true, result);\n      });\n    } else {\n      this.props.onLogin(false);\n    }\n  }\n  render() {\n    let {children} = this.props;\n    return (\n      <div onClick={this.facebookLogin}>\n          {children}\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}